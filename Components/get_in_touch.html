<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>
  <!-- Get in touch -->
  <section class="get-in-touch-boxed" id="get_in_touch">
    <h2 class="section-title">Get In Touch</h2>
    <p class="subtitle">We make shifting fast, safe & affordable. Connect now!</p>

    <div class="contact-card">
      <div class="contact-left">
        <h3>Gati House Shifting Packers and Movers</h3>
        <p><i class="fas fa-phone"></i> +91 9911076600</p>
        <p><i class="fas fa-envelope"></i>gatishiftingpackers@gmail.com</p>
        <p><i class="fas fa-map-marker-alt"></i> Office No. 001, Shree Ganesh Tower CHS, Plot No. 98, Sector 21,
          Ghansoli, Navi Mumbai, Maharashtra 400701, India</p>
      </div>

<form class="contact-right" id="pickupForm">

        <div class="form-row">
          <input type="text" name="name" placeholder="Your Name" required />
          <input type="email" name="email" placeholder="Your Email" required />
        </div>
        <div class="form-row">
          <input type="tel" name="phone" placeholder="Contact Number" required />
          <input type="text" name="pickup" placeholder="Pickup From" required />
        </div>
        <input type="text" name="drop" placeholder="Drop Point" required />
        <textarea rows="2" name="details" placeholder="Goods List / Details" required></textarea>
        <button type="submit">Submit</button>
      </form>
    </div>
  </section>


  <script src="../script.js"></script>
  <script>
  document.getElementById('pickupForm').addEventListener('submit', async function (e) {
    e.preventDefault(); // Prevent default form submit

    const formData = new FormData(this);
    const data = {
      name: formData.get('name'),
      email: formData.get('email'),
      phone: formData.get('phone'),
      location: formData.get('pickup'),
      service: formData.get('details') + ' | Drop Point: ' + formData.get('drop')
    };

    try {
      const response = await fetch('https://gati-crm-backend.onrender.com/api/leads', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      if (response.ok) {
        alert('Thank you! Weâ€™ll reach out soon.');
        document.getElementById('pickupForm').reset();
      } else {
        alert('Something went wrong. Please try again later.');
      }
    } catch (err) {
      console.error('Error:', err);
      alert('Submission failed. Server not responding.');
    }
  });
</script>
</body>
</html>